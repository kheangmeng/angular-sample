import{a as Tt}from"./chunk-S2BPXAEE.js";import"./chunk-LFWM4RC3.js";import"./chunk-6WRFWURZ.js";import"./chunk-DQBDYAPQ.js";import{a as ut}from"./chunk-G3MZDCZY.js";import{a as J,b as W,c as Z,d as tt,e as et,f as it,g as nt,h as at,i as ot,j as rt,k as _t,l as lt,m as ct,n as dt,o as O,p as I,q as st,r as mt,s as St}from"./chunk-66MYKW5G.js";import{a as pt}from"./chunk-BB5ZJDLL.js";import{a as k,b as z,c as K,e as V,f as j,g as Q}from"./chunk-IPAD4Z4C.js";import{c as X}from"./chunk-NWBSVYAQ.js";import"./chunk-7ARSE532.js";import"./chunk-4HJFLS6N.js";import{d as Y}from"./chunk-WVCQVTGJ.js";import{b as x}from"./chunk-43WO2N5A.js";import{a as q}from"./chunk-H4VOIUCV.js";import"./chunk-FR6554A4.js";import"./chunk-PBVPOCTB.js";import{w as B}from"./chunk-SNK4NGSF.js";import{g as H}from"./chunk-6UQFTU2W.js";import"./chunk-BLZFZB5W.js";import"./chunk-LHSWGZGY.js";import"./chunk-TGIV5SSD.js";import"./chunk-XMJXFRRB.js";import{$b as R,Bc as v,Cc as w,Lb as p,Mb as n,Nb as a,Ob as S,Sb as d,Tb as s,Vb as L,Xa as _,Zb as f,_b as A,ac as C,cc as F,da as g,eb as h,gc as y,hc as G,ia as D,ic as b,ja as P,lb as M,qc as r,rb as c,sc as m,zc as U}from"./chunk-LVK5SO2U.js";var gt=t=>["/admin/products",t],Ct=t=>[t];function ft(t,e){t&1&&(n(0,"th",40),r(1," ID "),a())}function At(t,e){if(t&1&&(n(0,"td",41),r(1),a()),t&2){let i=e.$implicit;_(),m(" ",i.id," ")}}function Dt(t,e){t&1&&(n(0,"th",42),r(1," Product Name "),a())}function Pt(t,e){if(t&1&&(n(0,"td",41),r(1),a()),t&2){let i=e.$implicit;_(),m(" ",i.name," ")}}function Rt(t,e){t&1&&(n(0,"th",43),r(1," Slug "),a())}function Ft(t,e){if(t&1&&(n(0,"td",41),r(1),a()),t&2){let i=e.$implicit;_(),m(" ",i.slug," ")}}function It(t,e){t&1&&(n(0,"th",44),r(1," Description "),a())}function ht(t,e){if(t&1&&(n(0,"td",41),r(1),a()),t&2){let i=e.$implicit;_(),m(" ",i.description," ")}}function Mt(t,e){t&1&&(n(0,"th",45),r(1," Category "),a())}function Lt(t,e){if(t&1&&(n(0,"td",41),r(1),a()),t&2){let i=e.$implicit;_(),m(" ",i.category.name," ")}}function Ut(t,e){t&1&&(n(0,"th",46),r(1," Base Price "),a())}function xt(t,e){if(t&1&&(n(0,"td",41),r(1),v(2,"currency"),a()),t&2){let i=e.$implicit;_(),m(" ",w(2,1,i.basePrice)," ")}}function Ot(t,e){t&1&&(n(0,"th",47),r(1," Brand "),a())}function Nt(t,e){if(t&1&&(n(0,"td",41),r(1),a()),t&2){let i=e.$implicit;_(),m(" ",i.brand," ")}}function $t(t,e){t&1&&(n(0,"th",48),r(1," Created At "),a())}function yt(t,e){if(t&1&&(n(0,"td",41),r(1),a()),t&2){let i=e.$implicit,o=F();_(),m(" ",o.formatDate(i.createdAt)," ")}}function Gt(t,e){t&1&&(n(0,"th",49),r(1," Updated At "),a())}function bt(t,e){if(t&1&&(n(0,"td",41),r(1),a()),t&2){let i=e.$implicit,o=F();_(),m(" ",o.formatDate(i.updatedAt)," ")}}function vt(t,e){t&1&&(n(0,"th",50),R(1,4),a())}function wt(t,e){if(t&1){let i=L();n(0,"td",51)(1,"a",52),f(2,5),S(3,"mat-icon"),A(),a(),n(4,"a",53),f(5,6),S(6,"mat-icon"),A(),a(),n(7,"button",54),C("click",function(){let l=D(i).$implicit,u=F();return P(u.openDialog(l.id))}),f(8,7),S(9,"mat-icon"),A(),a()()}if(t&2){let i=e.$implicit;_(),p("routerLink",U(2,gt,i.id)),_(3),p("routerLink",U(4,Ct,`/admin/products/${i.id}/edit`))}}function Ht(t,e){t&1&&S(0,"tr",55)}function Xt(t,e){t&1&&S(0,"tr",56)}var Et=class t{constructor(e,i){this.adminKey=e;this.productApiService=i;console.log(this.adminKey)}_snackBar=g(pt);_liveAnnouncer=g(B);formatDate=St;displayedColumns=["slug","name","description","categoryId","brand","basePrice","createdAt","updatedAt","actions"];products=new O([]);sort;ngAfterViewInit(){this.products.sort=this.sort}announceSortChange(e){e.direction?this._liveAnnouncer.announce(`Sorted ${e.direction}ending`):this._liveAnnouncer.announce("Sorting cleared")}ngOnInit(){this.fetchProducts()}fetchProducts(){this.productApiService.getProducts({page:1,limit:10}).subscribe({next:e=>{this.products=new O(e)},error:e=>{console.log(e)}})}length=50;pageSize=10;pageIndex=0;pageSizeOptions=[5,10,25];pageEvent={};handlePageEvent(e){this.pageEvent=e,this.length=e.length,this.pageSize=e.pageSize,this.pageIndex=e.pageIndex,this.fetchProducts()}setPageSizeOptions(e){e&&(this.pageSizeOptions=e.split(",").map(i=>+i))}dialog=g(K);openDialog(e){this.dialog.open(N,{data:e}).afterClosed().subscribe(o=>{o==="confirm"&&(this._snackBar.open(`Customer with ID Card: ${e} deleted.`,"Close"),this.fetchProducts())})}static \u0275fac=function(i){return new(i||t)(h(Tt),h(ut))};static \u0275cmp=M({type:t,selectors:[["app-products-list"]],viewQuery:function(i,o){if(i&1&&y(I,5),i&2){let l;G(l=b())&&(o.sort=l.first)}},exportAs:["products-list"],decls:46,vars:11,consts:()=>{let e;e=$localize`Products`;let i;i=$localize`All products in the systems`;let o;o=$localize`${"\uFFFD#9\uFFFD"}:START_TAG_MAT_ICON:add${"\uFFFD/#9\uFFFD"}:CLOSE_TAG_MAT_ICON:${"\uFFFD#10\uFFFD"}:START_TAG_SPAN:New Product${"\uFFFD/#10\uFFFD"}:CLOSE_TAG_SPAN:`;let l;l=$localize` Actions `;let u;u=$localize`${"\uFFFD#3\uFFFD"}:START_TAG_MAT_ICON:visibility${"\uFFFD/#3\uFFFD"}:CLOSE_TAG_MAT_ICON:`;let T;T=$localize`${"\uFFFD#6\uFFFD"}:START_TAG_MAT_ICON:edit${"\uFFFD/#6\uFFFD"}:CLOSE_TAG_MAT_ICON:`;let $;return $=$localize`${"\uFFFD#9\uFFFD"}:START_TAG_MAT_ICON:delete${"\uFFFD/#9\uFFFD"}:CLOSE_TAG_MAT_ICON:`,[["paginator",""],e,i,o,l,u,T,$,[1,"mat-elevation-z8"],[1,"m-3","justify-between","flex","items-center"],[1,"text-2xl"],[1,"text-sm","text-gray-500"],["mat-stroked-button","",3,"routerLink"],[1,"mr-2"],["mat-table","","matSort","",3,"matSortChange","dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by ID Card",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by name","class","min-w-[200px]",4,"matHeaderCellDef"],["matColumnDef","slug"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by slug",4,"matHeaderCellDef"],["matColumnDef","description"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by description","class","min-w-[300px]",4,"matHeaderCellDef"],["matColumnDef","categoryId"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by category",4,"matHeaderCellDef"],["matColumnDef","basePrice"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by base price","class","min-w-[120px]",4,"matHeaderCellDef"],["matColumnDef","brand"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by brand",4,"matHeaderCellDef"],["matColumnDef","createdAt"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Created At","class","min-w-[120px]",4,"matHeaderCellDef"],["matColumnDef","updatedAt"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Updated At","class","min-w-[120px]",4,"matHeaderCellDef"],["matColumnDef","actions"],["mat-header-cell","","class","min-w-[150px]",4,"matHeaderCellDef"],["mat-cell","","class","space-x-3",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"page","length","pageSize","disabled","showFirstLastButtons","pageSizeOptions","hidePageSize","pageIndex"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by ID Card"],["mat-cell",""],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by name",1,"min-w-[200px]"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by slug"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by description",1,"min-w-[300px]"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by category"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by base price",1,"min-w-[120px]"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by brand"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Created At",1,"min-w-[120px]"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Updated At",1,"min-w-[120px]"],["mat-header-cell","",1,"min-w-[150px]"],["mat-cell","",1,"space-x-3"],["mat-icon-button","","matTooltip","View",3,"routerLink"],["mat-icon-button","","matTooltip","Edit","color","accent",3,"routerLink"],["mat-icon-button","","matTooltip","Delete","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]]},template:function(i,o){if(i&1){let l=L();n(0,"div",8)(1,"div",9)(2,"div")(3,"h1",10),R(4,1),a(),n(5,"p",11),R(6,2),a()(),n(7,"a",12),f(8,3),S(9,"mat-icon",13)(10,"span"),A(),a()(),n(11,"table",14),C("matSortChange",function(T){return D(l),P(o.announceSortChange(T))}),d(12,15),c(13,ft,2,0,"th",16)(14,At,2,1,"td",17),s(),d(15,18),c(16,Dt,2,0,"th",19)(17,Pt,2,1,"td",17),s(),d(18,20),c(19,Rt,2,0,"th",21)(20,Ft,2,1,"td",17),s(),d(21,22),c(22,It,2,0,"th",23)(23,ht,2,1,"td",17),s(),d(24,24),c(25,Mt,2,0,"th",25)(26,Lt,2,1,"td",17),s(),d(27,26),c(28,Ut,2,0,"th",27)(29,xt,3,3,"td",17),s(),d(30,28),c(31,Ot,2,0,"th",29)(32,Nt,2,1,"td",17),s(),d(33,30),c(34,$t,2,0,"th",31)(35,yt,2,1,"td",17),s(),d(36,32),c(37,Gt,2,0,"th",33)(38,bt,2,1,"td",17),s(),d(39,34),c(40,vt,2,0,"th",35)(41,wt,10,6,"td",36),s(),c(42,Ht,1,0,"tr",37)(43,Xt,1,0,"tr",38),a(),n(44,"mat-paginator",39,0),C("page",function(T){return D(l),P(o.handlePageEvent(T))}),a()()}i&2&&(_(7),p("routerLink","/admin/products/create"),_(4),p("dataSource",o.products),_(31),p("matHeaderRowDef",o.displayedColumns),_(),p("matRowDefColumns",o.displayedColumns),_(),p("length",o.length)("pageSize",o.pageSize)("disabled",!1)("showFirstLastButtons",!0)("pageSizeOptions",o.pageSizeOptions)("hidePageSize",!1)("pageIndex",o.pageIndex))},dependencies:[X,dt,tt,it,rt,nt,et,_t,at,ot,lt,ct,Z,W,mt,I,st,x,q,J,Y,H],styles:[".card[_ngcontent-%COMP%]{margin:6px;padding:6px;border-radius:6px;border:3px solid rgb(0,38,255);box-shadow:inset}"]})},N=class t{dialogRef=g(k);productId=g(z);onCancel(){this.dialogRef.close()}onConfirm(){this.dialogRef.close("confirm")}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=M({type:t,selectors:[["product-delete-dialog"]],decls:11,vars:1,consts:[["mat-dialog-title","",1,"text-2xl","font-semibold","mb-6"],["matButton","",3,"click"],["matButton","","cdkFocusInitial","",3,"click"]],template:function(i,o){i&1&&(n(0,"div")(1,"h1",0),r(2,"Delete Product"),a(),n(3,"mat-dialog-content")(4,"p"),r(5),a()(),n(6,"mat-dialog-actions")(7,"button",1),C("click",function(){return o.onCancel()}),r(8,"No Thanks"),a(),n(9,"button",2),C("click",function(){return o.onConfirm()}),r(10,"Ok"),a()()()),i&2&&(_(5),m("Are you sure you want to delete product with ID: ",o.productId,"?"))},dependencies:[V,j,Q,x],encapsulation:2})};export{N as ProductDeleteDialog,Et as ProductList};
