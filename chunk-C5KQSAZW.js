import{a as P,b,c as O,d as G,e as $,f as H,g as z,h as X,i as F,j as B,k as V,l as k,m as K,n as S,o as C,p as Q,q as j,r as q}from"./chunk-AKPV3FYA.js";import{d as U}from"./chunk-OTWKGFIN.js";import{a as R,b as J}from"./chunk-K6UVX3NV.js";import"./chunk-EWLH7HIC.js";import"./chunk-WXZHSU2Z.js";import{b as w}from"./chunk-MPWMWIA5.js";import"./chunk-5D6OULS2.js";import"./chunk-DWV6IYEV.js";import"./chunk-KTXETM5X.js";import{x as N}from"./chunk-D3K4DV37.js";import"./chunk-UAC25CCP.js";import"./chunk-MYBYNWC4.js";import"./chunk-3HX4ON6O.js";import"./chunk-KGMFYYNB.js";import{$a as m,Qb as c,Rb as a,Sb as r,Tb as A,Xb as _,Yb as d,_b as v,cc as u,dc as g,fc as T,ga as M,ib as L,jc as I,kc as x,la as f,lc as y,ma as h,pb as D,tc as o,vb as s,vc as p}from"./chunk-P7EQBKWJ.js";function Z(t,e){t&1&&(a(0,"th",28),o(1," ID Card "),r())}function ee(t,e){if(t&1&&(a(0,"td",29),o(1),r()),t&2){let i=e.$implicit;m(),p(" ",i.idCard," ")}}function te(t,e){t&1&&(a(0,"th",30),o(1," Name "),r())}function ie(t,e){if(t&1&&(a(0,"td",29),o(1),r()),t&2){let i=e.$implicit;m(),p(" ",i.name," ")}}function ne(t,e){t&1&&(a(0,"th",31),o(1," Gender "),r())}function ae(t,e){if(t&1&&(a(0,"td",29),o(1),r()),t&2){let i=e.$implicit;m(),p(" ",i.gender," ")}}function re(t,e){t&1&&(a(0,"th",32),o(1," Email "),r())}function oe(t,e){if(t&1&&(a(0,"td",29),o(1),r()),t&2){let i=e.$implicit;m(),p(" ",i.email," ")}}function me(t,e){t&1&&(a(0,"th",33),o(1," Phone "),r())}function se(t,e){if(t&1&&(a(0,"td",29),o(1),r()),t&2){let i=e.$implicit;m(),p(" ",i.phone," ")}}function le(t,e){t&1&&(a(0,"th",34),o(1," Created At "),r())}function _e(t,e){if(t&1&&(a(0,"td",29),o(1),r()),t&2){let i=e.$implicit,n=T();m(),p(" ",n.formatDate(i.createdAt)," ")}}function de(t,e){t&1&&(a(0,"th",35),o(1," Updated At "),r())}function pe(t,e){if(t&1&&(a(0,"td",29),o(1),r()),t&2){let i=e.$implicit,n=T();m(),p(" ",n.formatDate(i.updatedAt)," ")}}function ce(t,e){t&1&&A(0,"tr",36)}function Se(t,e){t&1&&A(0,"tr",37)}var W=class t{constructor(e){this.customerApiService=e}_liveAnnouncer=M(N);formatDate=q;displayedColumns=["idCard","name","gender","email","phone","createdAt","updatedAt"];customers=new S([]);sort;ngAfterViewInit(){this.customers.sort=this.sort}announceSortChange(e){e.direction?this._liveAnnouncer.announce(`Sorted ${e.direction}ending`):this._liveAnnouncer.announce("Sorting cleared")}ngOnInit(){let e=R(10).map(i=>({name:`${i.firstName} ${i.lastName}`,gender:i.sex,email:i.email,phone:i.phoneNumber,idCard:i.idCard,createdAt:i.createdAt,updatedAt:i.updatedAt}));this.customers=new S(e)}fetchCustomers(){this.customerApiService.getCustomers({page:1,limit:10}).subscribe({next:e=>{this.customers=new S(e)},error:e=>{console.log(e)}})}length=50;pageSize=10;pageIndex=0;pageSizeOptions=[5,10,25];pageEvent={};handlePageEvent(e){this.pageEvent=e,this.length=e.length,this.pageSize=e.pageSize,this.pageIndex=e.pageIndex;let i=R(10).map(n=>({name:`${n.firstName} ${n.lastName}`,gender:n.sex,email:n.email,phone:n.phoneNumber,idCard:n.idCard,createdAt:n.createdAt,updatedAt:n.updatedAt}));this.customers=new S(i)}setPageSizeOptions(e){e&&(this.pageSizeOptions=e.split(",").map(i=>+i))}static \u0275fac=function(i){return new(i||t)(L(J))};static \u0275cmp=D({type:t,selectors:[["app-customer-list"]],viewQuery:function(i,n){if(i&1&&I(C,5),i&2){let l;x(l=y())&&(n.sort=l.first)}},decls:35,vars:11,consts:()=>{let e;e=$localize`Customers`;let i;i=$localize`All customers in the systems`;let n;return n=$localize`New Customers`,[["paginator",""],e,i,n,[1,"mat-elevation-z8"],[1,"m-3","justify-between","flex","items-center"],[1,"text-2xl"],[1,"text-sm","text-gray-500"],["mat-stroked-button","","routerLinkActive","active",3,"routerLink"],["mat-table","","matSort","",3,"matSortChange","dataSource"],["matColumnDef","idCard"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by ID Card",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Name",4,"matHeaderCellDef"],["matColumnDef","gender"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Gender",4,"matHeaderCellDef"],["matColumnDef","email"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Email",4,"matHeaderCellDef"],["matColumnDef","phone"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Phone",4,"matHeaderCellDef"],["matColumnDef","createdAt"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Created At",4,"matHeaderCellDef"],["matColumnDef","updatedAt"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Updated At",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"page","length","pageSize","disabled","showFirstLastButtons","pageSizeOptions","hidePageSize","pageIndex"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by ID Card"],["mat-cell",""],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Name"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Gender"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Email"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Phone"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Created At"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Updated At"],["mat-header-row",""],["mat-row",""]]},template:function(i,n){if(i&1){let l=v();a(0,"div",4)(1,"div",5)(2,"div")(3,"h1",6),u(4,1),r(),a(5,"p",7),u(6,2),r()(),a(7,"a",8),u(8,3),r()(),a(9,"table",9),g("matSortChange",function(E){return f(l),h(n.announceSortChange(E))}),_(10,10),s(11,Z,2,0,"th",11)(12,ee,2,1,"td",12),d(),_(13,13),s(14,te,2,0,"th",14)(15,ie,2,1,"td",12),d(),_(16,15),s(17,ne,2,0,"th",16)(18,ae,2,1,"td",12),d(),_(19,17),s(20,re,2,0,"th",18)(21,oe,2,1,"td",12),d(),_(22,19),s(23,me,2,0,"th",20)(24,se,2,1,"td",12),d(),_(25,21),s(26,le,2,0,"th",22)(27,_e,2,1,"td",12),d(),_(28,23),s(29,de,2,0,"th",24)(30,pe,2,1,"td",12),d(),s(31,ce,1,0,"tr",25)(32,Se,1,0,"tr",26),r(),a(33,"mat-paginator",27,0),g("page",function(E){return f(l),h(n.handlePageEvent(E))}),r()()}i&2&&(m(7),c("routerLink","/admin/customers/create"),m(2),c("dataSource",n.customers),m(22),c("matHeaderRowDef",n.displayedColumns),m(),c("matRowDefColumns",n.displayedColumns),m(),c("length",n.length)("pageSize",n.pageSize)("disabled",!1)("showFirstLastButtons",!0)("pageSizeOptions",n.pageSizeOptions)("hidePageSize",!1)("pageIndex",n.pageIndex))},dependencies:[U,K,O,$,F,H,G,B,z,X,V,k,b,P,j,C,Q,w],encapsulation:2})};export{W as CustomerList};
