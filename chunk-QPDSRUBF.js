import{a as Ce,b as Fe,c as _e,d as ge,e as he,f as be,g as ve,h as Ee,i as Se,j as Ge,k as ye,l as Ne}from"./chunk-3V75J6K5.js";import{b as ae,c as me}from"./chunk-OSN3LMJX.js";import{a as de,b as ue,c as pe}from"./chunk-77JD6MJK.js";import{b as se,c as ce}from"./chunk-QT6I7URP.js";import{a as $,b as R}from"./chunk-32RR7G65.js";import{b as te,c as re,d as ie,f as oe,i as ne,j as le}from"./chunk-UIQA63T2.js";import{b as Y,d as a,g as O,h as j,m as Z,n as H,q as J,r as K,s as Q,v as W,w as X,x as ee}from"./chunk-EBF7S7TK.js";import{a as qe}from"./chunk-VQGLVBTV.js";import{a as fe}from"./chunk-SCLRJS5S.js";import{Eb as c,Gb as f,Hb as k,Jb as x,Kb as I,Lb as m,Mb as r,Mc as A,Nb as t,Ob as C,Vb as L,Xa as l,a as N,ac as y,da as q,ia as S,ja as G,lb as z,mc as D,qc as o,rb as M,rc as T,xa as U,yc as P}from"./chunk-LVK5SO2U.js";function ke(n,i){n&1&&o(0,"General Information")}function xe(n,i){n&1&&(r(0,"mat-error"),o(1," First Name is required. "),t())}function Ie(n,i){n&1&&(r(0,"mat-error"),o(1," Last Name is required. "),t())}function De(n,i){n&1&&(r(0,"mat-error"),o(1," Gender is required. "),t())}function Te(n,i){n&1&&(r(0,"mat-error"),o(1," Phone number is required. "),t())}function Ve(n,i){n&1&&(r(0,"mat-error"),o(1," Email is required. "),t())}function Be(n,i){if(n&1&&(r(0,"mat-option",25),o(1),t()),n&2){let d=i.$implicit;m("value",d.id),l(),T(d.name)}}function we(n,i){n&1&&(r(0,"mat-option",26),o(1,"No option available"),t())}function Ue(n,i){n&1&&(r(0,"mat-error"),o(1," Country is required. "),t())}function ze(n,i){if(n&1&&(r(0,"mat-option",25),o(1),t()),n&2){let d=i.$implicit;m("value",d.id),l(),T(d.name)}}function Le(n,i){n&1&&(r(0,"mat-option",26),o(1,"No option available"),t())}function Pe(n,i){n&1&&(r(0,"mat-error"),o(1," City is required. "),t())}function Ae(n,i){n&1&&(r(0,"mat-error"),o(1," Zip code is required. "),t())}function $e(n,i){n&1&&(r(0,"mat-error"),o(1," Building number is required. "),t())}function Re(n,i){n&1&&(r(0,"mat-error"),o(1," Street is required. "),t())}function Ye(n,i){n&1&&o(0,"Attachment")}var Me=class n{customerData=A();api=q(fe);_formBuilder=q(W);firstFormGroup=this._formBuilder.group({firstName:["",[a.required,a.minLength(2)]],lastName:["",[a.required,a.minLength(2)]],gender:["",a.required],dob:[""],pob:[""],phone:["",a.required],email:["",[a.required,a.email]]});secondFormGroup=this._formBuilder.group({country:["",a.required],city:["",a.required],zipCode:["",[a.required,a.pattern("^[0-9]{5}(?:-[0-9]{4})?$")]],buildingNumber:["",a.required],street:["",a.required]});thirdFormGroup=this._formBuilder.group({idCardFront:["",a.required],idCardBack:["",a.required]});isLinear=!1;countries$=this.api.getCountries(10);cities$=this.api.getCities(100);countries=qe(this.countries$,{initialValue:[]});cities=[];constructor(){U(()=>{let i=this.customerData();console.log("dsdaa::",i),i&&(this.firstFormGroup.patchValue({firstName:i.firstName,lastName:i.lastName,gender:i.sex,dob:i.dob,pob:i.pob,phone:i.phoneNumber,email:i.email}),this.secondFormGroup.patchValue({country:i.address.country,city:i.address.city,zipCode:i.address.zipCode,buildingNumber:i.address.buildingNumber,street:i.address.street}),this.thirdFormGroup.patchValue({idCardFront:i.idCardFront,idCardBack:i.idCardBack}))})}onCountryChange(){let i=this.secondFormGroup.get("country")?.value;this.api.getCities(100).subscribe(d=>{this.cities=d.filter(e=>e.countryId===i),this.secondFormGroup.patchValue({city:null})})}getUploadedFileUrl(i,d){d==="idCardFront"?this.thirdFormGroup.patchValue({idCardFront:i}):d==="idCardBack"&&this.thirdFormGroup.patchValue({idCardBack:i})}onSubmit(){let i=N(N(N({},this.firstFormGroup.value),this.secondFormGroup.value),this.thirdFormGroup.value);console.log("Customer Data:",i)}static \u0275fac=function(d){return new(d||n)};static \u0275cmp=z({type:n,selectors:[["customer-form"]],inputs:{customerData:[1,"customerData"]},features:[P([Ne()])],decls:116,vars:25,consts:[["stepper",""],["picker",""],[3,"linear"],[3,"stepControl"],[3,"formGroup"],["matStepLabel",""],[1,"flex","flex-col"],[1,"flex","flex-col","md:flex-row","md:space-x-6"],["appearance","outline",1,"w-full","md:w-1/2"],["matInput","","placeholder","Enter first name","formControlName","firstName","required",""],["matInput","","placeholder","Enter last name","formControlName","lastName","required",""],["appearance","outline"],["placeholder","Select gender","formControlName","gender","required",""],["value","male"],["value","female"],["matInput","","formControlName","dob",3,"matDatepicker"],["matIconSuffix","",3,"for"],["matInput","","formControlName","pob"],["matInput","","placeholder","Enter phone number","formControlName","phone","required",""],["matSuffix",""],["matInput","","placeholder","example@email.com","formControlName","email","required",""],[1,"flex","justify-end"],["mat-stroked-button","","matStepperNext","",3,"disabled"],["label","Address Information",3,"stepControl"],["placeholder","Ex. USA","formControlName","country",3,"valueChange"],[3,"value"],["disabled",""],["placeholder","Ex. New York","formControlName","city"],["matInput","","type","number","formControlName","zipCode","placeholder","Ex. 10001","required",""],["matInput","","formControlName","buildingNumber","placeholder","Ex. 12126","required",""],["matInput","","formControlName","street","placeholder","Ex. 1 Main St","required",""],[1,"space-x-3"],["mat-stroked-button","","matStepperPrevious",""],["matInput","","readonly","","formControlName","idCardFront","required","",2,"visibility","hidden"],[3,"onFileUploaded","imageUrl"],["matInput","","readonly","","formControlName","idCardBack","required","",2,"visibility","hidden"],["mat-stroked-button","","matStepperNext","",3,"click"],["mat-flat-button","",3,"click","disabled"]],template:function(d,e){if(d&1){let u=L();r(0,"mat-stepper",2,0)(2,"mat-step",3)(3,"form",4),M(4,ke,1,0,"ng-template",5),r(5,"div",6)(6,"div",7)(7,"mat-form-field",8)(8,"mat-label"),o(9,"First Name"),t(),C(10,"input",9),c(11,xe,2,0,"mat-error"),t(),r(12,"mat-form-field",8)(13,"mat-label"),o(14,"Last Name"),t(),C(15,"input",10),c(16,Ie,2,0,"mat-error"),t()(),r(17,"mat-form-field",11)(18,"mat-label"),o(19,"Gender"),t(),r(20,"mat-select",12)(21,"mat-option",13),o(22,"Male"),t(),r(23,"mat-option",14),o(24,"Female"),t()(),c(25,De,2,0,"mat-error"),t(),r(26,"mat-form-field",11)(27,"mat-label"),o(28,"Date of birth"),t(),C(29,"input",15),r(30,"mat-hint"),o(31,"MM/DD/YYYY"),t(),C(32,"mat-datepicker-toggle",16)(33,"mat-datepicker",null,1),t(),r(35,"mat-form-field",11)(36,"mat-label"),o(37,"Place of birth"),t(),C(38,"textarea",17),t(),r(39,"mat-form-field",11)(40,"mat-label"),o(41,"Phone Number"),t(),C(42,"input",18),r(43,"mat-icon",19),o(44,"phone"),t(),c(45,Te,2,0,"mat-error"),t(),r(46,"mat-form-field",11)(47,"mat-label"),o(48,"Email"),t(),C(49,"input",20),r(50,"mat-icon",19),o(51,"email"),t(),c(52,Ve,2,0,"mat-error"),t()(),r(53,"div",21)(54,"button",22),o(55,"Next"),t()()()(),r(56,"mat-step",23)(57,"form",4)(58,"div",6)(59,"mat-form-field",11)(60,"mat-label"),o(61,"Country"),t(),r(62,"mat-select",24),y("valueChange",function(){return S(u),G(e.onCountryChange())}),x(63,Be,2,2,"mat-option",25,k),c(65,we,2,0,"mat-option",26),t(),c(66,Ue,2,0,"mat-error"),t(),r(67,"mat-form-field",11)(68,"mat-label"),o(69,"City"),t(),r(70,"mat-select",27),x(71,ze,2,2,"mat-option",25,k),c(73,Le,2,0,"mat-option",26),t(),c(74,Pe,2,0,"mat-error"),t(),r(75,"mat-form-field",11)(76,"mat-label"),o(77,"Zip Code"),t(),C(78,"input",28),c(79,Ae,2,0,"mat-error"),t(),r(80,"mat-form-field",11)(81,"mat-label"),o(82,"Building Number"),t(),C(83,"input",29),c(84,$e,2,0,"mat-error"),t(),r(85,"mat-form-field",11)(86,"mat-label"),o(87,"Street Address"),t(),C(88,"input",30),c(89,Re,2,0,"mat-error"),t()(),r(90,"div",31)(91,"button",32),o(92,"Back"),t(),r(93,"button",22),o(94,"Next"),t()()()(),r(95,"mat-step"),M(96,Ye,1,0,"ng-template",5),r(97,"form",4)(98,"div",6)(99,"mat-form-field",11)(100,"mat-label"),o(101,"ID Card Front"),t(),C(102,"input",33),r(103,"file-upload",34),y("onFileUploaded",function(p){return S(u),G(e.getUploadedFileUrl(p,"idCardFront"))}),t()(),r(104,"mat-form-field",11)(105,"mat-label"),o(106,"ID Card Back"),t(),C(107,"input",35),r(108,"file-upload",34),y("onFileUploaded",function(p){return S(u),G(e.getUploadedFileUrl(p,"idCardBack"))}),t()()(),r(109,"div",31)(110,"button",32),o(111,"Back"),t(),r(112,"button",36),y("click",function(){S(u);let p=D(1);return G(p.reset())}),o(113,"Reset"),t(),r(114,"button",37),y("click",function(){return S(u),G(e.onSubmit())}),o(115," Submit "),t()()()()()}if(d&2){let u,s,p,F,_,g,h,b,v,E,V,B,w=D(34);m("linear",e.isLinear),l(2),m("stepControl",e.firstFormGroup),l(),m("formGroup",e.firstFormGroup),l(8),f((u=e.firstFormGroup.get("firstName"))!=null&&u.invalid&&((u=e.firstFormGroup.get("firstName"))!=null&&u.dirty||(u=e.firstFormGroup.get("firstName"))!=null&&u.touched)&&((u=e.firstFormGroup.get("firstName"))!=null&&u.hasError("required"))?11:-1),l(5),f((s=e.firstFormGroup.get("lastName"))!=null&&s.invalid&&((s=e.firstFormGroup.get("lastName"))!=null&&s.dirty||(s=e.firstFormGroup.get("lastName"))!=null&&s.touched)&&((s=e.firstFormGroup.get("lastName"))!=null&&s.hasError("required"))?16:-1),l(9),f((p=e.firstFormGroup.get("gender"))!=null&&p.invalid&&((p=e.firstFormGroup.get("gender"))!=null&&p.dirty||(p=e.firstFormGroup.get("gender"))!=null&&p.touched)&&((p=e.firstFormGroup.get("gender"))!=null&&p.hasError("required"))?25:-1),l(4),m("matDatepicker",w),l(3),m("for",w),l(13),f((F=e.firstFormGroup.get("phone"))!=null&&F.invalid&&((F=e.firstFormGroup.get("phone"))!=null&&F.dirty||(F=e.firstFormGroup.get("phone"))!=null&&F.touched)&&((F=e.firstFormGroup.get("phone"))!=null&&F.hasError("required"))?45:-1),l(7),f((_=e.firstFormGroup.get("email"))!=null&&_.invalid&&((_=e.firstFormGroup.get("email"))!=null&&_.dirty||(_=e.firstFormGroup.get("email"))!=null&&_.touched)&&((_=e.firstFormGroup.get("email"))!=null&&_.hasError("required"))?52:-1),l(2),m("disabled",!e.firstFormGroup.valid),l(2),m("stepControl",e.secondFormGroup),l(),m("formGroup",e.secondFormGroup),l(6),I(e.countries()),l(2),f(e.countries().length===0?65:-1),l(),f((g=e.secondFormGroup.get("country"))!=null&&g.invalid&&((g=e.secondFormGroup.get("country"))!=null&&g.dirty||(g=e.secondFormGroup.get("country"))!=null&&g.touched)&&((g=e.secondFormGroup.get("country"))!=null&&g.hasError("required"))?66:-1),l(5),I(e.cities),l(2),f(e.cities.length===0?73:-1),l(),f((h=e.secondFormGroup.get("city"))!=null&&h.invalid&&((h=e.secondFormGroup.get("city"))!=null&&h.dirty||(h=e.secondFormGroup.get("city"))!=null&&h.touched)&&((h=e.secondFormGroup.get("city"))!=null&&h.hasError("required"))?74:-1),l(5),f((b=e.secondFormGroup.get("zipCode"))!=null&&b.invalid&&((b=e.secondFormGroup.get("zipCode"))!=null&&b.dirty||(b=e.secondFormGroup.get("zipCode"))!=null&&b.touched)&&((b=e.secondFormGroup.get("zipCode"))!=null&&b.hasError("required"))?79:-1),l(5),f((v=e.secondFormGroup.get("buildingNumber"))!=null&&v.invalid&&((v=e.secondFormGroup.get("buildingNumber"))!=null&&v.dirty||(v=e.secondFormGroup.get("buildingNumber"))!=null&&v.touched)&&((v=e.secondFormGroup.get("buildingNumber"))!=null&&v.hasError("required"))?84:-1),l(5),f((E=e.secondFormGroup.get("street"))!=null&&E.invalid&&((E=e.secondFormGroup.get("street"))!=null&&E.dirty||(E=e.secondFormGroup.get("street"))!=null&&E.touched)&&((E=e.secondFormGroup.get("street"))!=null&&E.hasError("required"))?89:-1),l(4),m("disabled",!e.secondFormGroup.valid),l(4),m("formGroup",e.thirdFormGroup),l(6),m("imageUrl",(V=e.customerData())==null?null:V.idCardFront),l(5),m("imageUrl",(B=e.customerData())==null?null:B.idCardBack),l(6),m("disabled",!e.thirdFormGroup.valid)}},dependencies:[ce,se,Ge,be,he,ve,Ee,Se,X,Z,Y,H,O,j,Q,ee,K,J,le,ne,te,ie,re,oe,me,ae,pe,ue,de,ge,Ce,Fe,_e,R,$,ye],styles:[".mat-stepper-horizontal[_ngcontent-%COMP%]{margin-top:8px}.mat-mdc-form-field[_ngcontent-%COMP%]{margin-top:16px}"]})};export{Me as a};
