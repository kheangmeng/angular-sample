import{a as j,b as q,c as J,d as W,e as Y,f as Z,g as ee,h as te,i as ie,j as ne,k as oe,l as ae,m as _e,n as re,o as O,p as I,q as le,r as se,s as ce}from"./chunk-66MYKW5G.js";import{a as me}from"./chunk-BB5ZJDLL.js";import{a as H,b as X,c as k,e as B,f as z,g as K}from"./chunk-IPAD4Z4C.js";import{c as y}from"./chunk-NWBSVYAQ.js";import{d as Q}from"./chunk-WVCQVTGJ.js";import{b as N}from"./chunk-43WO2N5A.js";import{a as V}from"./chunk-H4VOIUCV.js";import"./chunk-FR6554A4.js";import"./chunk-PBVPOCTB.js";import{w}from"./chunk-SNK4NGSF.js";import"./chunk-6UQFTU2W.js";import{a as de}from"./chunk-5C5RR6GK.js";import"./chunk-EWLH7HIC.js";import"./chunk-LHSWGZGY.js";import"./chunk-TGIV5SSD.js";import"./chunk-XMJXFRRB.js";import{$b as F,Lb as S,Mb as n,Nb as o,Ob as u,Sb as m,Tb as c,Vb as h,Xa as r,Zb as g,_b as f,ac as A,cc as D,da as p,eb as P,gc as v,hc as x,ia as M,ic as b,ja as R,lb as L,qc as _,rb as s,sc as d,zc as U}from"./chunk-LVK5SO2U.js";var ue=e=>["/admin/customers",e],Ee=e=>[e];function Ce(e,t){e&1&&(n(0,"th",36),_(1," ID Card "),o())}function Te(e,t){if(e&1&&(n(0,"td",37),_(1),o()),e&2){let i=t.$implicit;r(),d(" ",i.idCard," ")}}function pe(e,t){e&1&&(n(0,"th",38),_(1," Name "),o())}function Ae(e,t){if(e&1&&(n(0,"td",37),_(1),o()),e&2){let i=t.$implicit;r(),d(" ",`${i.firstName} ${i.firstName}`," ")}}function ge(e,t){e&1&&(n(0,"th",39),_(1," Gender "),o())}function fe(e,t){if(e&1&&(n(0,"td",37),_(1),o()),e&2){let i=t.$implicit;r(),d(" ",i.sex," ")}}function Me(e,t){e&1&&(n(0,"th",40),_(1," Email "),o())}function Re(e,t){if(e&1&&(n(0,"td",37),_(1),o()),e&2){let i=t.$implicit;r(),d(" ",i.email," ")}}function Fe(e,t){e&1&&(n(0,"th",41),_(1," Phone Number "),o())}function De(e,t){if(e&1&&(n(0,"td",37),_(1),o()),e&2){let i=t.$implicit;r(),d(" ",i.phoneNumber," ")}}function Ie(e,t){e&1&&(n(0,"th",42),_(1," Created At "),o())}function Le(e,t){if(e&1&&(n(0,"td",37),_(1),o()),e&2){let i=t.$implicit,a=D();r(),d(" ",a.formatDate(i.createdAt)," ")}}function he(e,t){e&1&&(n(0,"th",43),_(1," Updated At "),o())}function Ue(e,t){if(e&1&&(n(0,"td",37),_(1),o()),e&2){let i=t.$implicit,a=D();r(),d(" ",a.formatDate(i.updatedAt)," ")}}function Ne(e,t){e&1&&(n(0,"th",44),F(1,4),o())}function Oe(e,t){if(e&1){let i=h();n(0,"td",45)(1,"a",46),g(2,5),u(3,"mat-icon"),f(),o(),n(4,"a",47),g(5,6),u(6,"mat-icon"),f(),o(),n(7,"button",48),A("click",function(){let l=M(i).$implicit,E=D();return R(E.openDialog(l.idCard))}),g(8,7),u(9,"mat-icon"),f(),o()()}if(e&2){let i=t.$implicit;r(),S("routerLink",U(2,ue,i.id)),r(3),S("routerLink",U(4,Ee,`/admin/customers/${i.idCard}/edit`))}}function Ge(e,t){e&1&&u(0,"tr",49)}function $e(e,t){e&1&&u(0,"tr",50)}var Se=class e{constructor(t){this.customerApiService=t}_snackBar=p(me);_liveAnnouncer=p(w);formatDate=ce;displayedColumns=["idCard","name","gender","email","phoneNumber","createdAt","updatedAt","actions"];customers=new O([]);sort;ngAfterViewInit(){this.customers.sort=this.sort}announceSortChange(t){t.direction?this._liveAnnouncer.announce(`Sorted ${t.direction}ending`):this._liveAnnouncer.announce("Sorting cleared")}ngOnInit(){this.fetchCustomers()}fetchCustomers(){this.customerApiService.getCustomers({page:1,limit:10}).subscribe({next:t=>{this.customers=new O(t)},error:t=>{console.log(t)}})}length=50;pageSize=10;pageIndex=0;pageSizeOptions=[5,10,25];pageEvent={};handlePageEvent(t){this.pageEvent=t,this.length=t.length,this.pageSize=t.pageSize,this.pageIndex=t.pageIndex,this.fetchCustomers()}setPageSizeOptions(t){t&&(this.pageSizeOptions=t.split(",").map(i=>+i))}dialog=p(k);openDialog(t){this.dialog.open(G,{data:t}).afterClosed().subscribe(a=>{console.log("The dialog was closed",a),a==="confirm"&&(this._snackBar.open(`Customer with ID Card: ${t} deleted.`,"Close"),this.fetchCustomers())})}static \u0275fac=function(i){return new(i||e)(P(de))};static \u0275cmp=L({type:e,selectors:[["app-customer-list"]],viewQuery:function(i,a){if(i&1&&v(I,5),i&2){let l;x(l=b())&&(a.sort=l.first)}},decls:40,vars:11,consts:()=>{let t;t=$localize`Customers`;let i;i=$localize`All customers in the systems`;let a;a=$localize`${"\uFFFD#9\uFFFD"}:START_TAG_MAT_ICON:person_add${"\uFFFD/#9\uFFFD"}:CLOSE_TAG_MAT_ICON:${"\uFFFD#10\uFFFD"}:START_TAG_SPAN:New Customers${"\uFFFD/#10\uFFFD"}:CLOSE_TAG_SPAN:`;let l;l=$localize` Actions `;let E;E=$localize`${"\uFFFD#3\uFFFD"}:START_TAG_MAT_ICON:visibility${"\uFFFD/#3\uFFFD"}:CLOSE_TAG_MAT_ICON:`;let C;C=$localize`${"\uFFFD#6\uFFFD"}:START_TAG_MAT_ICON:edit${"\uFFFD/#6\uFFFD"}:CLOSE_TAG_MAT_ICON:`;let $;return $=$localize`${"\uFFFD#9\uFFFD"}:START_TAG_MAT_ICON:delete${"\uFFFD/#9\uFFFD"}:CLOSE_TAG_MAT_ICON:`,[["paginator",""],t,i,a,l,E,C,$,[1,"mat-elevation-z8"],[1,"m-3","justify-between","flex","items-center"],[1,"text-2xl"],[1,"text-sm","text-gray-500"],["mat-stroked-button","","routerLinkActive","active",3,"routerLink"],[1,"mr-2"],["mat-table","","matSort","",3,"matSortChange","dataSource"],["matColumnDef","idCard"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by ID Card",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Name",4,"matHeaderCellDef"],["matColumnDef","gender"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Gender",4,"matHeaderCellDef"],["matColumnDef","email"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Email",4,"matHeaderCellDef"],["matColumnDef","phoneNumber"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Phone Number",4,"matHeaderCellDef"],["matColumnDef","createdAt"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Created At",4,"matHeaderCellDef"],["matColumnDef","updatedAt"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Updated At",4,"matHeaderCellDef"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","space-x-3",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"page","length","pageSize","disabled","showFirstLastButtons","pageSizeOptions","hidePageSize","pageIndex"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by ID Card"],["mat-cell",""],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Name"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Gender"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Email"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Phone Number"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Created At"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Updated At"],["mat-header-cell",""],["mat-cell","",1,"space-x-3"],["mat-icon-button","","matTooltip","View",3,"routerLink"],["mat-icon-button","","matTooltip","Edit","color","accent",3,"routerLink"],["mat-icon-button","","matTooltip","Delete","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]]},template:function(i,a){if(i&1){let l=h();n(0,"div",8)(1,"div",9)(2,"div")(3,"h1",10),F(4,1),o(),n(5,"p",11),F(6,2),o()(),n(7,"a",12),g(8,3),u(9,"mat-icon",13)(10,"span"),f(),o()(),n(11,"table",14),A("matSortChange",function(C){return M(l),R(a.announceSortChange(C))}),m(12,15),s(13,Ce,2,0,"th",16)(14,Te,2,1,"td",17),c(),m(15,18),s(16,pe,2,0,"th",19)(17,Ae,2,1,"td",17),c(),m(18,20),s(19,ge,2,0,"th",21)(20,fe,2,1,"td",17),c(),m(21,22),s(22,Me,2,0,"th",23)(23,Re,2,1,"td",17),c(),m(24,24),s(25,Fe,2,0,"th",25)(26,De,2,1,"td",17),c(),m(27,26),s(28,Ie,2,0,"th",27)(29,Le,2,1,"td",17),c(),m(30,28),s(31,he,2,0,"th",29)(32,Ue,2,1,"td",17),c(),m(33,30),s(34,Ne,2,0,"th",31)(35,Oe,10,6,"td",32),c(),s(36,Ge,1,0,"tr",33)(37,$e,1,0,"tr",34),o(),n(38,"mat-paginator",35,0),A("page",function(C){return M(l),R(a.handlePageEvent(C))}),o()()}i&2&&(r(7),S("routerLink","/admin/customers/create"),r(4),S("dataSource",a.customers),r(25),S("matHeaderRowDef",a.displayedColumns),r(),S("matRowDefColumns",a.displayedColumns),r(),S("length",a.length)("pageSize",a.pageSize)("disabled",!1)("showFirstLastButtons",!0)("pageSizeOptions",a.pageSizeOptions)("hidePageSize",!1)("pageIndex",a.pageIndex))},dependencies:[y,re,W,Z,ne,ee,Y,oe,te,ie,ae,_e,J,q,se,I,le,N,V,j,Q],encapsulation:2})},G=class e{dialogRef=p(H);customerIdCard=p(X);onCancel(){this.dialogRef.close()}onConfirm(){this.dialogRef.close("confirm")}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=L({type:e,selectors:[["customer-delete-dialog"]],decls:11,vars:1,consts:[["mat-dialog-title","",1,"text-2xl","font-semibold","mb-6"],["matButton","",3,"click"],["matButton","","cdkFocusInitial","",3,"click"]],template:function(i,a){i&1&&(n(0,"div")(1,"h1",0),_(2,"Delete Customer"),o(),n(3,"mat-dialog-content")(4,"p"),_(5),o()(),n(6,"mat-dialog-actions")(7,"button",1),A("click",function(){return a.onCancel()}),_(8,"No Thanks"),o(),n(9,"button",2),A("click",function(){return a.onConfirm()}),_(10,"Ok"),o()()()),i&2&&(r(5),d("Are you sure you want to delete customer with ID Card: ",a.customerIdCard,"?"))},dependencies:[B,z,K,N],encapsulation:2})};export{G as CustomerDeleteDialog,Se as CustomerList};
