import{a as $}from"./chunk-O7NJIWCC.js";import{a as q,d as x,f as y,g as M,j as I,k as N,l as C}from"./chunk-WXGXPCCB.js";import"./chunk-67COSBOJ.js";import"./chunk-3M4T7ZU7.js";import{k}from"./chunk-PBQ54P7Q.js";import{Fb as l,Gb as d,Ib as m,Jb as p,Jc as T,Lb as g,Mb as u,Nb as c,Ob as f,Pb as n,Qb as a,Rb as F,_a as o,bc as S,dc as v,ga as P,ob as E,pc as _,rc as s,sc as w,ya as R}from"./chunk-BNB2VTH5.js";function B(i,r){if(i&1&&(n(0,"li"),s(1),a()),i&2){let t=r.$implicit;o(),w(t.message)}}function j(i,r){if(i&1&&(n(0,"ul"),u(1,B,2,1,"li",null,g),a()),i&2){let t=v();o(),c(t.registrationForm.email().errors())}}function H(i,r){if(i&1&&(n(0,"li"),s(1),a()),i&2){let t=r.$implicit;o(),w(t.message)}}function O(i,r){if(i&1&&(n(0,"ul"),u(1,H,2,1,"li",null,g),a()),i&2){let t=v();o(),c(t.registrationForm.postalCode().errors())}}function W(i,r){if(i&1&&(n(0,"li"),s(1),a()),i&2){let t=r.$implicit;o(),w(t.message)}}function A(i,r){if(i&1&&(n(0,"ul"),u(1,W,2,1,"li",null,g),a()),i&2){let t=v();o(),c(t.registrationForm.phone().errors())}}function L(i,r){if(i&1&&(n(0,"li"),s(1),a()),i&2){let t=r.$implicit;o(),w(t.message)}}function U(i,r){if(i&1&&(n(0,"ul"),u(1,L,2,1,"li",null,g),a()),i&2){let t=v();o(),c(t.registrationForm.password().errors())}}function z(i,r){if(i&1&&(n(0,"li"),s(1),a()),i&2){let t=r.$implicit;o(),w(t.message)}}function G(i,r){if(i&1&&(n(0,"ul"),u(1,z,2,1,"li",null,g),a()),i&2){let t=v();o(),c(t.registrationForm.confirmPassword().errors())}}function J(i,r){y(i,({value:t})=>/^\d{3}-\d{3}-\d{4}$/.test(t())?null:{kind:"phoneNumber",message:r?.message||"Phone must be in format: 555-123-4567"})}var D=class i{http=P(k);registrationModel=R({username:"",postalCode:"",email:"",phone:"",password:"",confirmPassword:""});registrationForm=q(this.registrationModel,r=>{C(r.username,{message:"Username is required"}),C(r.email,{message:"Email is required"}),M(r.email,{message:"Enter a valid email address"}),J(r.phone),N(r.postalCode,/^\d{5}$/,{message:"Postal code must be 5 digits"}),C(r.password,{message:"Password is required"}),I(r.password,8,{message:"Password must be at least 8 characters"}),C(r.confirmPassword,{message:"Please confirm your password"}),y(r.confirmPassword,({value:t,valueOf:e})=>{let b=t(),h=e(r.password);return b!==h?{kind:"passwordMismatch",message:"Passwords do not match"}:null})});passwordStrength=T(()=>{let r=this.registrationForm.password().value();return r.length<8?"weak":r.length<12?"medium":"strong"});resetForm(){this.registrationForm().reset(),this.registrationModel.set({username:"",postalCode:"",email:"",phone:"",password:"",confirmPassword:""})}onSubmit(){if(this.registrationForm().pending()){console.log("Waiting for validation...");return}if(this.registrationForm().invalid()){console.error("Form is invalid");return}let r=this.registrationModel();console.log("Registration Successful",r)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=E({type:i,selectors:[["app-register"]],decls:29,vars:40,consts:[[1,"m-8"],[1,"text-3xl","font-bold","underline"],[1,"flex-col","w-80",3,"ngSubmit","keydown.enter"],["label","Email",1,"mb-3",3,"required"],["type","email",1,"border","rounded","px-1","mt-1","mb-1",3,"formField"],["ngProjectAs","error-message",5,["error-message"]],["label","Postal Code",1,"mb-3",3,"required"],["placeholder","12345",1,"border","rounded","px-1","mt-1","mb-1",3,"formField"],["label","Phone Number",1,"mb-3",3,"required"],["placeholder","555-123-4567",1,"border","rounded","px-1","mt-1","mb-1",3,"formField"],["label","New Password",1,"mb-3",3,"required"],["type","password",1,"border","rounded","px-1","mt-1","mb-1",3,"formField"],["label","Confirm Password",1,"mb-3",3,"required"],[1,"gap-2","mt-4","flex"],["type","button",1,"bg-red-500","text-white","px-2","py-1","rounded",3,"click"],["type","submit",1,"bg-blue-500","text-white","px-2","py-1","rounded"]],template:function(t,e){t&1&&(n(0,"div",0)(1,"h2",1),s(2,"Register"),a(),n(3,"form",2),S("ngSubmit",function(){return e.onSubmit()})("keydown.enter",function(h){return h.preventDefault()}),n(4,"field-wrapper",3),F(5,"input",4),l(),n(6,"div",5),m(7,j,3,0,"ul"),a()(),n(8,"field-wrapper",6),F(9,"input",7),l(),n(10,"div",5),m(11,O,3,0,"ul"),a()(),n(12,"field-wrapper",8),F(13,"input",9),l(),n(14,"div",5),m(15,A,3,0,"ul"),a()(),n(16,"field-wrapper",10),F(17,"input",11),l(),n(18,"div",5),m(19,U,3,0,"ul"),a()(),n(20,"field-wrapper",12),F(21,"input",11),l(),n(22,"div",5),m(23,G,3,0,"ul"),a()(),n(24,"div",13)(25,"button",14),S("click",function(){return e.resetForm()}),s(26,"Reset"),a(),n(27,"button",15),s(28," Submit "),a()()()()),t&2&&(o(4),f("required",!0),o(),_("is-invalid",e.registrationForm.email().touched()&&e.registrationForm.email().invalid())("is-valid",e.registrationForm.email().touched()&&e.registrationForm.email().valid()),d(e.registrationForm.email,"formField"),o(2),p(e.registrationForm.email().touched()&&e.registrationForm.email().invalid()?7:-1),o(),f("required",!0),o(),_("is-invalid",e.registrationForm.postalCode().touched()&&e.registrationForm.postalCode().invalid())("is-valid",e.registrationForm.postalCode().touched()&&e.registrationForm.postalCode().valid()),d(e.registrationForm.postalCode,"formField"),o(2),p(e.registrationForm.postalCode().touched()&&e.registrationForm.postalCode().invalid()?11:-1),o(),f("required",!0),o(),_("is-invalid",e.registrationForm.phone().touched()&&e.registrationForm.phone().invalid())("is-valid",e.registrationForm.phone().touched()&&e.registrationForm.phone().valid()),d(e.registrationForm.phone,"formField"),o(2),p(e.registrationForm.phone().touched()&&e.registrationForm.phone().invalid()?15:-1),o(),f("required",!0),o(),_("is-invalid",e.registrationForm.password().touched()&&e.registrationForm.password().invalid())("is-valid",e.registrationForm.password().touched()&&e.registrationForm.password().valid()),d(e.registrationForm.password,"formField"),o(2),p(e.registrationForm.password().touched()&&e.registrationForm.password().invalid()?19:-1),o(),f("required",!0),o(),_("is-invalid",e.registrationForm.confirmPassword().touched()&&e.registrationForm.confirmPassword().invalid())("is-valid",e.registrationForm.confirmPassword().touched()&&e.registrationForm.confirmPassword().valid()),d(e.registrationForm.confirmPassword,"formField"),o(2),p(e.registrationForm.confirmPassword().touched()&&e.registrationForm.confirmPassword().invalid()?23:-1))},dependencies:[$,x],styles:["input.is-invalid[_ngcontent-%COMP%]{border:2px solid red;background-color:#fff}input.is-valid[_ngcontent-%COMP%]{border:2px solid green}"]})};export{D as RegisterForm};
