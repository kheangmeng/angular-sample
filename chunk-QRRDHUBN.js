import{a as P,b as O,c as G,d as $,e as H,f as z,g as F,h as X,i as k,j as B,k as V,l as K,m as Q,n as S,o as f,p as j,q,r as J,s as W}from"./chunk-ZZ4E7GC2.js";import"./chunk-EWLH7HIC.js";import{a as o}from"./chunk-KTIKZMNI.js";import{d as U}from"./chunk-OTWKGFIN.js";import"./chunk-XOS6OJWE.js";import{b as w}from"./chunk-MPWMWIA5.js";import"./chunk-5D6OULS2.js";import"./chunk-DWV6IYEV.js";import"./chunk-KTXETM5X.js";import{x as b}from"./chunk-D3K4DV37.js";import"./chunk-UAC25CCP.js";import"./chunk-MYBYNWC4.js";import"./chunk-3HX4ON6O.js";import"./chunk-KGMFYYNB.js";import{$a as s,Qb as u,Rb as a,Sb as r,Tb as g,Xb as d,Yb as p,_b as y,cc as C,dc as T,fc as R,ga as L,ib as D,jc as x,kc as I,la as h,lc as N,ma as A,pb as v,tc as m,vb as l,vc as c}from"./chunk-P7EQBKWJ.js";function M(t){let e=[];for(let i=0;i<t;i++)e.push(ee());return e}function ee(){let t=o.person.sexType(),e=o.person.firstName(t),i=o.person.lastName(),n=o.internet.email({firstName:e,lastName:i});return{id:o.string.uuid(),avatar:o.image.avatar(),birthday:o.date.birthdate(),idCard:o.string.numeric(12),firstName:e,lastName:i,email:n,sex:t,phoneNumber:o.phone.number(),address:{street:o.location.streetAddress(),city:o.location.city(),state:o.location.state(),zipCode:o.location.zipCode(),country:o.location.country()},company:o.company.name(),createdAt:o.date.past(),updatedAt:o.date.past()}}function te(t,e){t&1&&(a(0,"th",28),m(1," ID Card "),r())}function ie(t,e){if(t&1&&(a(0,"td",29),m(1),r()),t&2){let i=e.$implicit;s(),c(" ",i.idCard," ")}}function ne(t,e){t&1&&(a(0,"th",30),m(1," Name "),r())}function ae(t,e){if(t&1&&(a(0,"td",29),m(1),r()),t&2){let i=e.$implicit;s(),c(" ",i.name," ")}}function re(t,e){t&1&&(a(0,"th",31),m(1," Gender "),r())}function oe(t,e){if(t&1&&(a(0,"td",29),m(1),r()),t&2){let i=e.$implicit;s(),c(" ",i.gender," ")}}function me(t,e){t&1&&(a(0,"th",32),m(1," Email "),r())}function se(t,e){if(t&1&&(a(0,"td",29),m(1),r()),t&2){let i=e.$implicit;s(),c(" ",i.email," ")}}function le(t,e){t&1&&(a(0,"th",33),m(1," Phone "),r())}function _e(t,e){if(t&1&&(a(0,"td",29),m(1),r()),t&2){let i=e.$implicit;s(),c(" ",i.phone," ")}}function de(t,e){t&1&&(a(0,"th",34),m(1," Created At "),r())}function pe(t,e){if(t&1&&(a(0,"td",29),m(1),r()),t&2){let i=e.$implicit,n=R();s(),c(" ",n.formatDate(i.createdAt)," ")}}function ce(t,e){t&1&&(a(0,"th",35),m(1," Updated At "),r())}function ue(t,e){if(t&1&&(a(0,"td",29),m(1),r()),t&2){let i=e.$implicit,n=R();s(),c(" ",n.formatDate(i.updatedAt)," ")}}function Se(t,e){t&1&&g(0,"tr",36)}function Ce(t,e){t&1&&g(0,"tr",37)}var Y=class t{constructor(e){this.customerApiService=e}_liveAnnouncer=L(b);formatDate=J;displayedColumns=["idCard","name","gender","email","phone","createdAt","updatedAt"];customers=new S([]);sort;ngAfterViewInit(){this.customers.sort=this.sort}announceSortChange(e){e.direction?this._liveAnnouncer.announce(`Sorted ${e.direction}ending`):this._liveAnnouncer.announce("Sorting cleared")}ngOnInit(){let e=M(10).map(i=>({name:`${i.firstName} ${i.lastName}`,gender:i.sex,email:i.email,phone:i.phoneNumber,idCard:i.idCard,createdAt:i.createdAt,updatedAt:i.updatedAt}));this.customers=new S(e)}fetchCustomers(){this.customerApiService.getCustomers({page:1,limit:10}).subscribe({next:e=>{this.customers=new S(e)},error:e=>{console.log(e)}})}length=50;pageSize=10;pageIndex=0;pageSizeOptions=[5,10,25];pageEvent={};handlePageEvent(e){this.pageEvent=e,this.length=e.length,this.pageSize=e.pageSize,this.pageIndex=e.pageIndex;let i=M(10).map(n=>({name:`${n.firstName} ${n.lastName}`,gender:n.sex,email:n.email,phone:n.phoneNumber,idCard:n.idCard,createdAt:n.createdAt,updatedAt:n.updatedAt}));this.customers=new S(i)}setPageSizeOptions(e){e&&(this.pageSizeOptions=e.split(",").map(i=>+i))}static \u0275fac=function(i){return new(i||t)(D(W))};static \u0275cmp=v({type:t,selectors:[["app-customer-list"]],viewQuery:function(i,n){if(i&1&&x(f,5),i&2){let _;I(_=N())&&(n.sort=_.first)}},decls:35,vars:11,consts:()=>{let e;e=$localize`Customers`;let i;i=$localize`All customers in the systems`;let n;return n=$localize`New Customers`,[["paginator",""],e,i,n,[1,"mat-elevation-z8"],[1,"m-3","justify-between","flex","items-center"],[1,"text-2xl"],[1,"text-sm","text-gray-500"],["mat-stroked-button","","routerLinkActive","active",3,"routerLink"],["mat-table","","matSort","",3,"matSortChange","dataSource"],["matColumnDef","idCard"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by ID Card",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Name",4,"matHeaderCellDef"],["matColumnDef","gender"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Gender",4,"matHeaderCellDef"],["matColumnDef","email"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Email",4,"matHeaderCellDef"],["matColumnDef","phone"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Phone",4,"matHeaderCellDef"],["matColumnDef","createdAt"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Created At",4,"matHeaderCellDef"],["matColumnDef","updatedAt"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Updated At",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"page","length","pageSize","disabled","showFirstLastButtons","pageSizeOptions","hidePageSize","pageIndex"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by ID Card"],["mat-cell",""],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Name"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Gender"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Email"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Phone"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Created At"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Updated At"],["mat-header-row",""],["mat-row",""]]},template:function(i,n){if(i&1){let _=y();a(0,"div",4)(1,"div",5)(2,"div")(3,"h1",6),C(4,1),r(),a(5,"p",7),C(6,2),r()(),a(7,"a",8),C(8,3),r()(),a(9,"table",9),T("matSortChange",function(E){return h(_),A(n.announceSortChange(E))}),d(10,10),l(11,te,2,0,"th",11)(12,ie,2,1,"td",12),p(),d(13,13),l(14,ne,2,0,"th",14)(15,ae,2,1,"td",12),p(),d(16,15),l(17,re,2,0,"th",16)(18,oe,2,1,"td",12),p(),d(19,17),l(20,me,2,0,"th",18)(21,se,2,1,"td",12),p(),d(22,19),l(23,le,2,0,"th",20)(24,_e,2,1,"td",12),p(),d(25,21),l(26,de,2,0,"th",22)(27,pe,2,1,"td",12),p(),d(28,23),l(29,ce,2,0,"th",24)(30,ue,2,1,"td",12),p(),l(31,Se,1,0,"tr",25)(32,Ce,1,0,"tr",26),r(),a(33,"mat-paginator",27,0),T("page",function(E){return h(_),A(n.handlePageEvent(E))}),r()()}i&2&&(s(7),u("routerLink","/admin/customers/create"),s(2),u("dataSource",n.customers),s(22),u("matHeaderRowDef",n.displayedColumns),s(),u("matRowDefColumns",n.displayedColumns),s(),u("length",n.length)("pageSize",n.pageSize)("disabled",!1)("showFirstLastButtons",!0)("pageSizeOptions",n.pageSizeOptions)("hidePageSize",!1)("pageIndex",n.pageIndex))},dependencies:[U,Q,G,H,k,z,$,B,F,X,V,K,O,P,q,f,j,w],encapsulation:2})};export{Y as CustomerList};
