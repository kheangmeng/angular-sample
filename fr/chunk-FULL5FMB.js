import{a as z}from"./chunk-AFJ2TYPV.js";import{a as N}from"./chunk-2AKHQIYQ.js";import{b as P,d as m,g as F,h as T,l as q,m as k,n as A,o as V,p as D,q as M,u as w,w as B}from"./chunk-63TFIDXQ.js";import"./chunk-ADSLI4YD.js";import"./chunk-N4J6MJRT.js";import"./chunk-74BI47NR.js";import{Ib as c,Jb as u,Kb as x,Mb as b,Nb as E,Ob as f,Pb as e,Qb as t,Rb as l,Yb as h,_a as a,bc as p,dc as g,ga as _,la as y,ma as v,ob as C,rc as i,tc as S}from"./chunk-2GOA33FY.js";function O(r,d){r&1&&(e(0,"div"),i(1," Name is required. "),t())}function $(r,d){r&1&&(e(0,"div"),i(1," Do not include 'test' in email. "),t())}function R(r,d){if(r&1&&(e(0,"div",3),c(1,O,2,0,"div"),c(2,$,2,0,"div"),t()),r&2){let n=g();a(),u(n.name.hasError("required")?1:-1),a(),u(n.name.hasError("forbiddenName")?2:-1)}}function Q(r,d){r&1&&(e(0,"div"),i(1," category is required. "),t())}function j(r,d){if(r&1&&(e(0,"div",3),c(1,Q,2,0,"div"),t()),r&2){let n=g();a(),u(n.category.hasError("required")?1:-1)}}function L(r,d){if(r&1){let n=h();e(0,"div"),l(1,"input",21),e(2,"button",19),p("click",function(){let s=y(n).$index,I=g();return v(I.removeTag(s))}),i(3,"Remove Tag"),t()()}if(r&2){let n=d.$index;a(),f("formControlName",n)}}var G=class r{productId;route=_(N);formBuilder=_(w);productForm=this.formBuilder.group({name:["",[m.required,z(/test/i)]],category:["",m.required],qty:[0,m.required],description:["",[m.required,m.maxLength(200)]],detail:this.formBuilder.group({price:[0,m.required],color:["",m.required],size:["",m.required]}),tags:this.formBuilder.array([this.formBuilder.control("")])});get name(){return this.productForm.get("name")}get category(){return this.productForm.get("category")}get tags(){return this.productForm.get("tags")}addTag(){this.tags?.push(this.formBuilder.control(""))}removeTag(d){this.tags?.removeAt(d)}updateProduct(){this.productForm.patchValue({description:"Product detail",detail:{color:"blue"}})}onSubmit(){console.log(this.productForm.value)}constructor(){this.productId=this.route.snapshot.paramMap.get("id"),console.log("product id:",this.productId)}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=C({type:r,selectors:[["app-product-edit"]],decls:41,vars:5,consts:[[1,"productForm",3,"ngSubmit","formGroup"],["for","name"],["type","text","id","name","formControlName","name","placeholder","Name"],[1,"error-msg"],["for","category"],["type","text","id","category","formControlName","category","placeholder","Category"],["for","qty"],["type","number","id","qty","formControlName","qty","placeholder","Quantity"],["for","description"],["rows","5","id","description","formControlName","description","placeholder","Description"],[2,"font-weight","bolder","margin-top","20px"],["formGroupName","detail",1,"productForm"],["for","price"],["type","number","id","price","formControlName","price","placeholder","Price"],["for","color"],["type","text","id","color","formControlName","color","placeholder","Color"],["for","size"],["type","text","id","size","formControlName","size","placeholder","Size"],["formArrayName","tags"],["type","button",3,"click"],["type","submit",3,"disabled"],["type","text","placeholder","Tag",3,"formControlName"]],template:function(n,o){n&1&&(e(0,"p"),i(1,"product-edit works!"),t(),e(2,"div")(3,"h2"),i(4),t(),e(5,"form",0),p("ngSubmit",function(){return o.onSubmit()}),e(6,"label",1),i(7,"Name"),t(),l(8,"input",2),c(9,R,3,2,"div",3),e(10,"label",4),i(11,"Category"),t(),l(12,"input",5),c(13,j,2,1,"div",3),e(14,"label",6),i(15,"Quantity"),t(),l(16,"input",7),e(17,"label",8),i(18,"Description"),t(),l(19,"textarea",9),e(20,"div",10),i(21,"Product Detail"),t(),e(22,"div",11)(23,"label",12),i(24,"Price"),t(),l(25,"input",13),e(26,"label",14),i(27,"Color"),t(),l(28,"input",15),e(29,"label",16),i(30,"Size"),t(),l(31,"input",17),t(),e(32,"div",18)(33,"button",19),p("click",function(){return o.addTag()}),i(34,"Add Tag"),t(),b(35,L,4,1,"div",null,x),t(),e(37,"button",20),i(38,"Submit"),t()(),e(39,"button",19),p("click",function(){return o.updateProduct()}),i(40,"Update product"),t()()),n&2&&(a(4),S("Product Form: ",o.productForm.status),a(),f("formGroup",o.productForm),a(4),u(o.name&&o.name.invalid&&(o.name.dirty||o.name.touched)?9:-1),a(4),u(o.category&&o.category.invalid&&(o.category.dirty||o.category.touched)?13:-1),a(22),E(o.tags.controls),a(2),f("disabled",!o.productForm.valid))},dependencies:[B,q,P,k,F,T,M,D,A,V],styles:[".productForm[_ngcontent-%COMP%]{margin:10px;max-width:300px;display:flex;flex-direction:column;gap:6px}.ng-valid[required][_ngcontent-%COMP%], .ng-valid.required[_ngcontent-%COMP%]{border-left:5px solid #42A948}.ng-invalid[_ngcontent-%COMP%]:not(form){border-left:5px solid #a94442}.error-msg[_ngcontent-%COMP%]{padding:6px;background-color:#fff2f3;color:#c23636}"]})};export{G as ProductEdit};
/**i18n:60757854ceacd67abab5eb989e73dce283aa11d93f002581dc9de1939f3ce9eb*/
